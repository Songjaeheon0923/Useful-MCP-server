# 📝 Notion MCP Server

**패키지**: `@notionhq/notion-mcp-server` (공식 패키지)  
**GitHub**: [Notion MCP Official](https://github.com/notionhq/notion-mcp-server)  
**상태**: ✅ **연결됨** (테스트 완료)  

## 개요

Notion MCP Server는 Claude가 Notion 워크스페이스와 완전히 통합되어 페이지, 데이터베이스, 블록을 자유자재로 관리할 수 있게 해주는 공식 HTTP 기반 도구입니다. 별도의 토큰 설정 없이도 바로 사용할 수 있으며, 검색부터 콘텐츠 생성까지 모든 Notion 작업을 자동화할 수 있습니다.

## 설치 및 설정

### 1. Notion Integration 생성 및 API 토큰 발급
1. https://www.notion.so/my-integrations 접속
2. **"New integration"** 클릭
3. Integration 이름 입력 (예: "Claude MCP")
4. 원하는 워크스페이스 선택
5. Capabilities 설정:
   - ✅ Read content
   - ✅ Update content
   - ✅ Insert content
6. **"Submit"** 클릭
7. **"Internal Integration Token"** 복사 (형식: `secret_...`)

### 2. 워크스페이스에 Integration 연결
- 사용하려는 Notion 페이지로 이동
- 페이지 상단 **"..."** 메뉴 클릭
- **"Add connections"** 선택
- 생성한 Integration 선택하여 연결

### 3. MCP 서버 패키지 설치
```bash
# 공식 Notion MCP 서버 설치
npm install -g @notionhq/notion-mcp-server
```

### 4. MCP 서버 추가
```bash
# API 키와 함께 서버 추가
claude mcp add notion --scope user npx @notionhq/notion-mcp-server -e NOTION_API_KEY=YOUR_TOKEN

# 또는 시스템 환경 변수 설정 후
setx NOTION_API_KEY "YOUR_TOKEN"  # Windows
export NOTION_API_KEY="YOUR_TOKEN"  # Linux/macOS
claude mcp add notion --scope user npx @notionhq/notion-mcp-server
```

### 5. 연결 확인
```bash
claude mcp list
# notion: npx @notionhq/notion-mcp-server - ✓ Connected 확인
```

## ✅ 실제 테스트 결과

### 테스트 워크스페이스: "Uni-con"
- **API 연결**: ✅ 정상 작동
- **데이터 검색**: ✅ 성공적으로 워크스페이스 내용 조회
- **페이지 수**: 10개 이상의 페이지 및 데이터베이스 발견

### 발견된 주요 내용
#### 🦄 메인 프로젝트 페이지
- **Unicon**: 메인 프로젝트 페이지
- **BE**: 백엔드 관련 페이지

#### 📊 데이터베이스들
- **일정표**: 프로젝트 스케줄 관리
  - 기능 구현 deadline (8/27)
  - 개발 Deadline (8/29)

#### 🏠 기능 페이지들
- **룸메이트 찾기**: 주거 관련 기능
- **프로젝트 관리**: Wireframe, AI 개발, 계약서 검증
- **회의록**: 8/14 회의 기록

## 주요 기능

### 🔍 강력한 검색 기능
- **AI 검색**: 워크스페이스 전체를 대상으로 한 지능형 검색
- **사용자 검색**: 워크스페이스 내 사용자 및 팀원 검색
- **페이지별 검색**: 특정 페이지 하위 콘텐츠 검색
- **데이터베이스 검색**: 데이터베이스 내 레코드 검색

### 📊 페이지 및 데이터베이스 관리
- **페이지 CRUD**: 페이지 생성, 읽기, 수정, 이동
- **데이터베이스 관리**: 데이터베이스 생성, 수정, 쿼리
- **블록 관리**: 텍스트, 이미지, 표, 코드 블록 등 추가/편집
- **속성 관리**: 제목, 태그, 날짜, 체크박스 등 다양한 속성 처리

### 💬 협업 기능
- **댓글 시스템**: 페이지 댓글 읽기 및 작성
- **사용자 관리**: 워크스페이스 멤버 정보 조회
- **페이지 공유**: 페이지 이동 및 구조 변경

## 사용 가능한 도구들

### 검색 기능
- **`search`**: AI 기반 워크스페이스 검색 및 사용자 검색

### 페이지 관리
- **`fetch`**: 페이지 또는 데이터베이스 내용 조회
- **`notion-create-pages`**: 새로운 페이지 생성 (Notion 마크다운 지원)
- **`notion-update-page`**: 페이지 속성 및 내용 수정
- **`notion-move-pages`**: 페이지 이동 및 구조 변경
- **`notion-duplicate-page`**: 페이지 복제

### 데이터베이스 관리
- **`notion-create-database`**: 새로운 데이터베이스 생성
- **`notion-update-database`**: 데이터베이스 구조 및 속성 수정

### 댓글 시스템
- **`notion-create-comment`**: 페이지에 댓글 추가
- **`notion-get-comments`**: 페이지의 모든 댓글 조회

### 사용자 관리
- **`notion-get-users`**: 워크스페이스 사용자 목록 조회
- **`notion-get-user`**: 특정 사용자 정보 조회
- **`notion-get-self`**: 현재 봇 정보 조회

## 사용 예시

### 기본 검색 및 조회
```bash
# Claude에서 사용 예시:
"내 Notion 워크스페이스에서 'Uni-Con' 프로젝트 관련 페이지를 찾아주세요"
"최근에 업데이트된 페이지들을 보여주세요"
"'개발' 키워드가 포함된 모든 페이지를 검색해주세요"
"워크스페이스에 있는 팀원 목록을 보여주세요"
```

### 페이지 생성 및 수정
```bash
"새로운 회의록 페이지를 생성하고 오늘 날짜와 참석자를 추가해주세요"
"프로젝트 상태를 '완료'로 업데이트해주세요"
"할 일 목록에 새로운 작업을 추가해주세요"
"이 페이지에 코드 블록과 설명을 추가해주세요"
```

### 데이터베이스 작업
```bash
"새로운 '작업 관리' 데이터베이스를 생성해주세요"
"프로젝트 데이터베이스에 '우선순위' 속성을 추가해주세요"
"완료되지 않은 작업들을 우선순위별로 정리해주세요"
"새로운 작업을 데이터베이스에 추가해주세요"
```

### 협업 기능
```bash
"이 페이지에 리뷰 요청 댓글을 추가해주세요"
"프로젝트 페이지를 팀 공간으로 이동해주세요"
"이 문서를 복제해서 새로운 템플릿으로 만들어주세요"
"워크스페이스의 모든 댓글을 확인해주세요"
```

## 자동화 워크플로우 예시

### 📊 프로젝트 관리 자동화
- **일일 스탠드업 리포트**: 진행 중인 작업 자동 수집 및 정리
- **주간 진행률 대시보드**: 프로젝트별 완료율 자동 계산
- **마일스톤 추적**: 중요 일정 모니터링 및 상태 업데이트
- **팀 워크로드 분석**: 작업 분배 현황 자동 분석

### 📈 콘텐츠 관리 자동화
- **문서 정리**: 태그별, 날짜별 문서 자동 분류
- **템플릿 생성**: 일관된 형식의 문서 자동 생성
- **버전 관리**: 문서 변경 이력 추적 및 관리
- **검색 최적화**: 콘텐츠 메타데이터 자동 업데이트

### 🔄 팀 협업 자동화
- **회의록 관리**: 회의록 템플릿 자동 생성 및 액션 아이템 추적
- **피드백 수집**: 댓글 기반 피드백 자동 수집 및 분류
- **지식 공유**: 새로운 정보 자동 분류 및 태깅
- **온보딩 지원**: 신규 멤버 온보딩 자료 자동 제공

## 고급 사용법

### AI 검색 활용
```bash
# 지능형 검색
"청년 주거 문제와 관련된 모든 아이디어를 찾아서 카테고리별로 정리해주세요"

# 특정 범위 검색  
"프로젝트 기획 페이지 하위에서 API 관련 내용만 찾아주세요"

# 사용자별 검색
"김철수가 작성한 문서들을 시간순으로 보여주세요"
```

### 고급 페이지 작업
```bash
# 복잡한 페이지 생성
"회의록 템플릿을 사용해서 새로운 스프린트 계획 회의록을 만들어주세요"

# 조건부 업데이트
"프로젝트 진행률이 100%가 되면 상태를 '완료'로 자동 변경해주세요"

# 대량 작업
"모든 미완료 작업에 마감일을 일괄 설정해주세요"
```

### 데이터베이스 고급 활용
```bash
# 관계형 데이터베이스 구축
"프로젝트와 작업을 연결하는 관계 속성을 추가해주세요"

# 동적 속성 관리
"상태별로 다른 속성을 보여주는 데이터베이스 뷰를 만들어주세요"

# 자동화된 계산
"프로젝트별 작업 완료율을 자동으로 계산하는 수식을 추가해주세요"
```

## Notion 마크다운 지원

### 기본 서식
```markdown
# 제목 1
## 제목 2
### 제목 3

**굵게**
*기울임*
~~취소선~~
`인라인 코드`
[링크](URL)

- 불릿 리스트
1. 번호 리스트
- [ ] 체크리스트
- [x] 완료된 항목
```

### 고급 블록
```markdown
> 인용문

```python
# 코드 블록
def hello_world():
    print("Hello, Notion!")
```

---  # 구분선

💡 **참고**: 이것은 콜아웃입니다
```

### Notion 전용 기능
```markdown
# 사용자 멘션
@김철수 @개발팀

# 페이지 링크
[[다른 페이지 이름]]

# 날짜
오늘: 2025-08-10
마감일: @2025-08-15

# 데이터베이스 속성
상태:: 진행 중
우선순위:: 높음
담당자:: 김철수
```

## 성능 최적화

### 효율적인 검색
```bash
# 구체적인 키워드 사용
"API 명세서" (좋음) vs "문서" (너무 광범위)

# 검색 범위 제한
"프로젝트 폴더 내에서만 버그 리포트 찾기"

# 날짜 범위 활용
"지난 주에 업데이트된 개발 관련 페이지들"
```

### 배치 처리
```bash
# 한 번에 여러 작업 수행
"10개의 새로운 작업을 한 번에 생성하고 담당자를 배정해주세요"

# 단계별 처리
"대량의 데이터를 10개씩 나누어서 처리해주세요"
```

## 실제 사용 사례

### 현재 연결된 워크스페이스 예시
현재 연결된 워크스페이스에는 다음과 같은 프로젝트가 있습니다:

1. **Uni-Con/SafeRoom 프로젝트**: 청년 주거 문제 해결 플랫폼
2. **기술 문서**: FastAPI 기반 백엔드 API 명세서
3. **아이디어 노트**: 다양한 AI 솔루션 아이디어들
4. **개발 진행 상황**: 실시간 프로젝트 진행 현황

### 실제 작업 예시
```bash
# 현재 워크스페이스에서 실제로 할 수 있는 작업들
"Uni-Con 프로젝트의 최신 진행 상황을 요약해주세요"
"로그인 API 문서에 새로운 에러 코드를 추가해주세요"  
"새로운 기능 아이디어를 아이디어 페이지에 추가해주세요"
"개발 일정에 새로운 마일스톤을 설정해주세요"
```

## 문제 해결

### 연결 문제
```bash
# 서버 상태 확인
claude mcp list
# notion: https://mcp.notion.com/mcp (HTTP) - ✓ Connected 확인

# 다시 연결 시도
claude mcp remove notion
claude mcp add notion --scope user https://mcp.notion.com/mcp
```

### 검색 결과 없음
- 검색 키워드를 더 구체적으로 지정
- 대소문자 구분 없이 검색되므로 다양한 표현 시도
- 페이지가 실제로 존재하는지 Notion 웹에서 확인

### 권한 문제
- HTTP 서버는 공개적으로 접근 가능한 콘텐츠만 검색
- 비공개 워크스페이스는 검색되지 않을 수 있음
- 워크스페이스 설정에서 공개 범위 확인

## 장점 및 특징

### ✅ 즉시 사용 가능
- 별도 API 키나 토큰 설정 불필요
- 설치 후 바로 Notion 콘텐츠에 접근 가능
- 복잡한 인증 과정 없음

### 🔍 강력한 검색 기능
- AI 기반 의미적 검색 지원
- 워크스페이스 전체 검색 가능
- 다양한 검색 필터 옵션

### 🛠️ 완전한 CRUD 지원
- 페이지 생성, 읽기, 수정, 삭제
- 데이터베이스 관리 및 쿼리
- 댓글 및 협업 기능

### 📝 Notion 마크다운 지원
- 풍부한 서식 지원
- Notion 전용 기능 활용 가능
- 직관적인 문서 작성

## 참고 자료

- [Notion API Documentation](https://developers.notion.com/)
- [Model Context Protocol Specification](https://github.com/modelcontextprotocol/specification)
- [Notion Block Types Reference](https://developers.notion.com/reference/block)
- [Notion Database Properties](https://developers.notion.com/reference/property-object)

---

**마지막 업데이트**: 2025-08-10  
**테스트 환경**: Windows, Claude CLI  
**설치 방법**: HTTP 서버 (토큰 불필요)  
**실제 테스트**: Uni-Con 프로젝트 워크스페이스에서 검증 완료